<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">Fundraisers</h1>

  <!-- Fundraiser List -->
  <div class="mb-4">
    <!-- Table for displaying organizer and caption -->
    <h2 class="text-xl mb-2">Fundraiser Details</h2>
    <table class="min-w-full border">
      <thead>
        <tr class="border-b">
          <th class="px-4 py-2 text-left">Organizer</th>
          <th class="px-4 py-2 text-left">Caption</th>
          <th class="px-4 py-2 text-left">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let fundraiser of fundraisers"
          class="border-b"
        >
          <td class="px-4 py-2">{{ fundraiser.ORGANIZER }}</td>
          <td class="px-4 py-2">{{ fundraiser.CAPTION }}</td>
          <td class="px-4 py-2">
            <button
              (click)="editFundraiser(fundraiser)"
              class="text-blue-600 hover:text-blue-800"
            >
              Edit
            </button>
            <button
              (click)="deleteFundraiser(fundraiser.id)"
              class="text-red-600 hover:text-red-800 ml-2"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  

  <!-- New Fundraiser Form -->
  <h2 class="text-xl mb-2">Add New Fundraiser</h2>
  <form (ngSubmit)="addFundraiser()">
    <input
      type="text"
      [(ngModel)]="newFundraiser.title"
      name="title"
      placeholder="Title"
      required
      class="border p-2 mb-2 w-full"
    />
    <input
      type="text"
      [(ngModel)]="newFundraiser.category_id"
      name="category_id"
      placeholder="Category ID"
      required
      class="border p-2 mb-2 w-full"
    />
    <button type="submit" class="bg-green-600 text-white p-2">Save</button>
  </form>

  <!-- Update Fundraiser Form -->
  <h2 class="text-xl mb-2" *ngIf="editingFundraiser">Update Fundraiser</h2>
  <form *ngIf="editingFundraiser" (ngSubmit)="updateFundraiser()">
    <input
      type="text"
      [(ngModel)]="editingFundraiser.title"
      name="title"
      placeholder="Title"
      required
      class="border p-2 mb-2 w-full"
    />
    <input
      type="text"
      [(ngModel)]="editingFundraiser.category_id"
      name="category_id"
      placeholder="Category ID"
      required
      class="border p-2 mb-2 w-full"
    />
    <button type="submit" class="bg-blue-600 text-white p-2">Update</button>
  </form>
</div>
